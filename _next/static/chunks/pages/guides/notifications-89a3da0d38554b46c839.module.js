(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[11],{ScRu:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/guides/notifications",function(){return n("c/vi")}])},"c/vi":function(e,t,n){"use strict";n.r(t),n.d(t,"meta",(function(){return c})),n.d(t,"default",(function(){return d}));var a=n("wx14"),i=n("Ff2n"),l=n("q1tI"),r=n.n(l),b=n("7ljp"),o=n("er9C"),c=(r.a.createElement,{id:"notifications",title:"Notifications"}),m={meta:c},p=e=>{var{children:t}=e,n=Object(i.a)(e,["children"]);return Object(b.b)(o.a,Object(a.a)({meta:c},n),t)};function d(e){var{components:t}=e,n=Object(i.a)(e,["components"]);return Object(b.b)(p,Object(a.a)({},m,n,{components:t,mdxType:"MDXLayout"}),Object(b.b)("h2",{id:"notification-types"},"Notification Types",Object(b.b)("a",{parentName:"h2",href:"#notification-types",title:"Direct link to heading",className:"anchor"},Object(b.b)("span",{parentName:"a",className:"icon icon-link"}))),Object(b.b)("p",null,"In ",Object(b.b)("inlineCode",{parentName:"p"},"Monika"),", we provide multiple notification channels. Notifications are available through sendgrid, mailgun, smtp and webhook."),Object(b.b)("h2",{id:"configurations"},"Configurations",Object(b.b)("a",{parentName:"h2",href:"#configurations",title:"Direct link to heading",className:"anchor"},Object(b.b)("span",{parentName:"a",className:"icon icon-link"}))),Object(b.b)("p",null,"Notification could be sent through multiple channels and emails. You should define notification mechanism in the configuration as shown in ",Object(b.b)("inlineCode",{parentName:"p"},"config.example.json")," bellow."),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-json"},'"notifications": [\n    {\n      "id": "unique-id",\n      "type": "mailgun",\n      "data": {\n        "recipients": ["mantap@jiwa.com"],\n        "apiKey": "YOUR_API_KEY",\n        "domain": "YOUR_DOMAIN"\n      }\n    },\n    {\n      "id": "unique-id",\n      "type": "sendgrid",\n      "data": {\n        "recipients": ["mantap@jiwa.com"],\n        "apiKey": "YOUR_API_KEY"\n      }\n    },\n    {\n      "id": "unique-id",\n      "type": "smtp",\n      "recipients": ["a@a.com"],\n      "data": {\n        "recipients": ["mantap@jiwa.com"],\n        "hostname": "https://www.dennypradipta.com",\n        "port": 8080,\n        "username": "dennypradipta",\n        "password": "bismillah"\n      }\n    },\n    {\n      "id": "unique-id-webhook",\n      "type": "webhook",\n      "data": {\n        "recipients": ["mantap@jiwa.com"],\n        "method": "POST",\n        "url": "https://examplewebhookurl.com/webhook"\n      }\n    }\n  ],\n')),Object(b.b)("h2",{id:"mailgun"},"Mailgun",Object(b.b)("a",{parentName:"h2",href:"#mailgun",title:"Direct link to heading",className:"anchor"},Object(b.b)("span",{parentName:"a",className:"icon icon-link"}))),Object(b.b)("p",null,"Mailgun is an email notification delivery provided by Mailgun email service. To use mailgun for your notification, you\nwould need a mailgun account to obtain your API_KEY and DOMAIN. Please consult ",Object(b.b)("a",{parentName:"p",href:"https://documentation.mailgun.com/en/latest/quickstart.html"},"mailgun documentation here")," on how to obtain them. Once that done, you could use the API_KEY and DOMAIN in monika's json configuration as follows;"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "unique-id",\n  "type": "mailgun",\n  "data": {\n    "recipients": ["mantap@jiwa.com"],\n    "apiKey": "YOUR_API_KEY",\n    "domain": "YOUR_DOMAIN"\n  }\n}\n')),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:null},"Key"),Object(b.b)("th",{parentName:"tr",align:null},"Description"),Object(b.b)("th",{parentName:"tr",align:null},"Example"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"ID"),Object(b.b)("td",{parentName:"tr",align:null},"Notification identity number"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"Mailgun12345"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Type"),Object(b.b)("td",{parentName:"tr",align:null},"Notification types"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"mailgun"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Recipients"),Object(b.b)("td",{parentName:"tr",align:null},"An array of email addresses that will receive the e-mail from Monika"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},'["monika@testmail.com", "symon@testmail.com"]'))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Api Key"),Object(b.b)("td",{parentName:"tr",align:null},"Mailgun's account api key, mailgun's registered key to identify your account"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"70e34aba-0ea908325"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Domain"),Object(b.b)("td",{parentName:"tr",align:null},"The domain to set in Mailgun"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"sandboxmail.mailgun.com"))))),Object(b.b)("h2",{id:"sendgrid"},"Sendgrid",Object(b.b)("a",{parentName:"h2",href:"#sendgrid",title:"Direct link to heading",className:"anchor"},Object(b.b)("span",{parentName:"a",className:"icon icon-link"}))),Object(b.b)("p",null,"Similar to mailgun, sendgrid is also an email delivery service. First, sign up for an account in sendgrid and get the API key. Please check ",Object(b.b)("a",{parentName:"p",href:"https://sendgrid.com/docs/api-reference/"},"sendgrid's documentation"),". Then put the API key in Monika's configuration as follows."),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "unique-id",\n  "type": "sendgrid",\n  "data": {\n    "recipients": ["mantap@jiwa.com"],\n    "apiKey": "YOUR_API_KEY"\n  }\n}\n')),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:null},"Key"),Object(b.b)("th",{parentName:"tr",align:null},"Description"),Object(b.b)("th",{parentName:"tr",align:null},"Example"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"ID"),Object(b.b)("td",{parentName:"tr",align:null},"Notification identity number"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"Sendgrid12345"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Type"),Object(b.b)("td",{parentName:"tr",align:null},"Notification types"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"sendgrid"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Recipients"),Object(b.b)("td",{parentName:"tr",align:null},"An array of email addresses that will receive the e-mail from Monika"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},'["monika@testmail.com", "symon@testmail.com"]'))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Api Key"),Object(b.b)("td",{parentName:"tr",align:null},"Mailgun's account api key, mailgun's registered key to identify your account"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"70e34aba-0ea908325"))))),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"Monika")," is using ",Object(b.b)("a",{parentName:"p",href:"https://github.com/sendgrid/mail"},Object(b.b)("strong",{parentName:"a"},"@sendgrid/mail"))," library for sending the sendgrid type notification. ",Object(b.b)("inlineCode",{parentName:"p"},"Monika")," will breakdown the configuration set the sengrid type API_KEY settings and send the message using the library."),Object(b.b)("h2",{id:"smtp"},"SMTP",Object(b.b)("a",{parentName:"h2",href:"#smtp",title:"Direct link to heading",className:"anchor"},Object(b.b)("span",{parentName:"a",className:"icon icon-link"}))),Object(b.b)("p",null,"SMTP (Simple Mail Transfer Protocol) is an email service using the TCP/IP protocol. For this you need to have an active email account to be used as transporter, a middle service that relays the email sending process."),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "unique-id",\n  "type": "smtp",\n  "recipients": ["a@a.com"],\n  "data": {\n    "recipients": ["mantap@jiwa.com"],\n    "hostname": "smtp.mail.com",\n    "port": 222,\n    "username": "dennypradipta",\n    "password": "bismillah"\n  }\n}\n')),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:null},"Key"),Object(b.b)("th",{parentName:"tr",align:null},"Description"),Object(b.b)("th",{parentName:"tr",align:null},"Example"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"ID"),Object(b.b)("td",{parentName:"tr",align:null},"Notification identity number"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"Smtp12345"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Type"),Object(b.b)("td",{parentName:"tr",align:null},"Notification types"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"smtp"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Recipients"),Object(b.b)("td",{parentName:"tr",align:null},"An array of email addresses that will receive the e-mail from Monika"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},'["monika@testmail.com", "symon@testmail.com"]'))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Hostname"),Object(b.b)("td",{parentName:"tr",align:null},"The smtp host that you will be using for sending the email"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"smtp.gmail.com"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Port"),Object(b.b)("td",{parentName:"tr",align:null},"The port allowed to be used for sending mail in your host"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"587"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Username"),Object(b.b)("td",{parentName:"tr",align:null},"Registered username on your smtp server"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"yourusername@gmail.com"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Password"),Object(b.b)("td",{parentName:"tr",align:null},"The password set for your username"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"thepasswordforyourusername"))))),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"Monika")," will breakdown the configuration with type ",Object(b.b)("inlineCode",{parentName:"p"},"smtp"),", registering the username and password to the mail host with certain port and create a transporter to send to your recipient addresses."),Object(b.b)("h2",{id:"webhook"},"Webhook",Object(b.b)("a",{parentName:"h2",href:"#webhook",title:"Direct link to heading",className:"anchor"},Object(b.b)("span",{parentName:"a",className:"icon icon-link"}))),Object(b.b)("p",null,"Besides the email notifications, ",Object(b.b)("inlineCode",{parentName:"p"},"Monika")," also provide webhook service using REST API calls and POST methods."),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "unique-id-webhook",\n  "type": "webhook",\n  "data": {\n    "recipients": ["mantap@jiwa.com"],\n    "method": "POST",\n    "url": "https://examplewebhookurl.com/webhook"\n  }\n}\n')),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:null},"Key"),Object(b.b)("th",{parentName:"tr",align:null},"Description"),Object(b.b)("th",{parentName:"tr",align:null},"Example"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"ID"),Object(b.b)("td",{parentName:"tr",align:null},"Notification identity number"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"Webhook12345"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Type"),Object(b.b)("td",{parentName:"tr",align:null},"Notification types"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"webhook"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Recipients"),Object(b.b)("td",{parentName:"tr",align:null},"An array of email addresses that will receive the e-mail from Monika"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},'["monika@testmail.com", "symon@testmail.com"]'))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Method"),Object(b.b)("td",{parentName:"tr",align:null},"HTTP method POST or PUT"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"POST"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Url"),Object(b.b)("td",{parentName:"tr",align:null},"The URL of the server that will receive the webhook notification"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"https://yourwebsite.com/webhook"))))),Object(b.b)("p",null,"Using the webhook type configuration, ",Object(b.b)("inlineCode",{parentName:"p"},"Monika")," will send a request with the following body:"),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-js"},"body: {\n  url: string\n  time: string\n  alert: string\n}\n")),Object(b.b)("p",null,"Keep watch on these pages, new notification methods are being developed."))}d.isMDXComponent=!0}},[["ScRu",0,2,4,1,3,5]]]);